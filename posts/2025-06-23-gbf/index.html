<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>碧蓝幻想战斗数值的设计推导以及反拆 | Wandering in Dreams</title><meta name=keywords content><meta name=description content='❗ This article was written in 2025.04 ❗
前言
Granblue Fantasy（以下简称GBF）是一款网页端/移动端长线运营小队战斗RPG，除去其较高的美术水平外，核心乐趣点在于养成所带来的战斗数值提升。GBF运营至今能够通过其数值设计不断给玩家提供完成每日任务、参与活动的动力，说明其数值设计值得我们对此进行推导拆解分析。
GBF战斗系统说明
GBF的战斗系统以小队为单位，每个小队由【主角】、3名【角色】、【武器盘】、【召唤石】构成。武器盘和召唤石决定了玩家的基础伤害。特殊的武器盘和召唤石会提供一些效果影响伤害的结算。
实际战斗时为回合制战斗，每回合玩家可以使用主角或角色的技能、召唤石的技能，在使用想要使用的技能之后玩家点击攻击结束自己的操作；之后主角和其他角色依次进行一次普通攻击，最后怪物行动。
战斗公式设计推导
目标以及场景拆解
GBF数值设计的目标主要包括以下两点：

【保证数值主导的正反馈循环】因为战斗是游戏的主体，所以需要保证玩家在时间游玩中，对时间和资源投入的成长有足够的感知。为此，我们希望满足以下目标：

玩家经过养成，能够获得可感知的战斗数值提升
战斗数值的膨胀应该对于长线运营有较高的兼容度


【确保不同氪金量玩家体验】氪金玩家对于非氪金玩家不应该形成完全碾压

战斗场景：

完全没有PVP。PVE场景包括多人或单人。
玩家的养成主要通过多人PVE。
玩家的成果检验主要通过单人PVE。

数值框架搭建
基于目标以及场景，我们给出一个基于养成模块的伤害计算公式。
$$
\begin{aligned}
伤害 =&\ (预期伤害 \times 乘算调整区 + 加算调整区) \times 最终乘算调整区 + 最终加算调整区
\\
\text{其中，}
\\
预期伤害 =&\ 养成伤害 \times 怪物减伤率 \\
=&\ \Pi_{养成模块} 单模块调整值 \times 怪物减伤率\\
\end{aligned}
$$默认乘算调整区、加算调整区、最终乘算调整区、最终加算调整区不影响伤害结算。
由于玩家的战斗场景均为PVE，故可以通过手动投放怪物减伤率的方式控制玩家体验（默认10%减伤，特殊战斗特殊对待）。
观察游戏机制，细化计算公式
观察到：

游戏内有主角等级、武器盘、召唤石等养成模块。
武器盘内的武器可以提供各类效果增幅伤害，召唤石可以增幅武器盘内武器的效果，或直接增幅伤害。
战斗中有部分技能可以增幅伤害，或给怪物增加"破防XX%&ldquo;的debuff。
战斗中不同技能的倍率不同，且可以出现暴击
【特殊机制】战斗中有元素克制关系

根据观察到的结果，我们对养成伤害、怪物减伤调整区公式进行细化：
$$
\begin{aligned}
乘算调整区 =&\ \Pi_{乘算调整模块} 单模块调整值 \\
乘算调整模块 =&\ \set{伤害倍率、元素克制调整值、暴击调整值} \\
养成模块 =&\ \set{基础伤害、武器盘调整值、召唤石调整值} \\
怪物减伤调整区 =&\ 1 - f(怪物减伤值)
\end{aligned}
$$模块计算方式假设
我们假设以下情况：'><meta name=author content><link rel=canonical href=https://mikezom.github.io/posts/2025-06-23-gbf/><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"]]},loader:{load:["ui/safe"]}}</script><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://mikezom.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mikezom.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mikezom.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://mikezom.github.io/apple-touch-icon.png><link rel=mask-icon href=https://mikezom.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://mikezom.github.io/posts/2025-06-23-gbf/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://mikezom.github.io/posts/2025-06-23-gbf/"><meta property="og:site_name" content="Wandering in Dreams"><meta property="og:title" content="碧蓝幻想战斗数值的设计推导以及反拆"><meta property="og:description" content='❗ This article was written in 2025.04 ❗
前言 Granblue Fantasy（以下简称GBF）是一款网页端/移动端长线运营小队战斗RPG，除去其较高的美术水平外，核心乐趣点在于养成所带来的战斗数值提升。GBF运营至今能够通过其数值设计不断给玩家提供完成每日任务、参与活动的动力，说明其数值设计值得我们对此进行推导拆解分析。
GBF战斗系统说明 GBF的战斗系统以小队为单位，每个小队由【主角】、3名【角色】、【武器盘】、【召唤石】构成。武器盘和召唤石决定了玩家的基础伤害。特殊的武器盘和召唤石会提供一些效果影响伤害的结算。
实际战斗时为回合制战斗，每回合玩家可以使用主角或角色的技能、召唤石的技能，在使用想要使用的技能之后玩家点击攻击结束自己的操作；之后主角和其他角色依次进行一次普通攻击，最后怪物行动。
战斗公式设计推导 目标以及场景拆解 GBF数值设计的目标主要包括以下两点：
【保证数值主导的正反馈循环】因为战斗是游戏的主体，所以需要保证玩家在时间游玩中，对时间和资源投入的成长有足够的感知。为此，我们希望满足以下目标： 玩家经过养成，能够获得可感知的战斗数值提升 战斗数值的膨胀应该对于长线运营有较高的兼容度 【确保不同氪金量玩家体验】氪金玩家对于非氪金玩家不应该形成完全碾压 战斗场景：
完全没有PVP。PVE场景包括多人或单人。 玩家的养成主要通过多人PVE。 玩家的成果检验主要通过单人PVE。 数值框架搭建 基于目标以及场景，我们给出一个基于养成模块的伤害计算公式。
$$ \begin{aligned} 伤害 =&\ (预期伤害 \times 乘算调整区 + 加算调整区) \times 最终乘算调整区 + 最终加算调整区 \\ \text{其中，} \\ 预期伤害 =&\ 养成伤害 \times 怪物减伤率 \\ =&\ \Pi_{养成模块} 单模块调整值 \times 怪物减伤率\\ \end{aligned} $$默认乘算调整区、加算调整区、最终乘算调整区、最终加算调整区不影响伤害结算。
由于玩家的战斗场景均为PVE，故可以通过手动投放怪物减伤率的方式控制玩家体验（默认10%减伤，特殊战斗特殊对待）。
观察游戏机制，细化计算公式 观察到：
游戏内有主角等级、武器盘、召唤石等养成模块。 武器盘内的武器可以提供各类效果增幅伤害，召唤石可以增幅武器盘内武器的效果，或直接增幅伤害。 战斗中有部分技能可以增幅伤害，或给怪物增加"破防XX%“的debuff。 战斗中不同技能的倍率不同，且可以出现暴击 【特殊机制】战斗中有元素克制关系 根据观察到的结果，我们对养成伤害、怪物减伤调整区公式进行细化：
$$ \begin{aligned} 乘算调整区 =&\ \Pi_{乘算调整模块} 单模块调整值 \\ 乘算调整模块 =&\ \set{伤害倍率、元素克制调整值、暴击调整值} \\ 养成模块 =&\ \set{基础伤害、武器盘调整值、召唤石调整值} \\ 怪物减伤调整区 =&\ 1 - f(怪物减伤值) \end{aligned} $$模块计算方式假设 我们假设以下情况：'><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-06-23T18:31:09+08:00"><meta property="article:modified_time" content="2025-06-23T18:31:09+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="碧蓝幻想战斗数值的设计推导以及反拆"><meta name=twitter:description content='❗ This article was written in 2025.04 ❗
前言
Granblue Fantasy（以下简称GBF）是一款网页端/移动端长线运营小队战斗RPG，除去其较高的美术水平外，核心乐趣点在于养成所带来的战斗数值提升。GBF运营至今能够通过其数值设计不断给玩家提供完成每日任务、参与活动的动力，说明其数值设计值得我们对此进行推导拆解分析。
GBF战斗系统说明
GBF的战斗系统以小队为单位，每个小队由【主角】、3名【角色】、【武器盘】、【召唤石】构成。武器盘和召唤石决定了玩家的基础伤害。特殊的武器盘和召唤石会提供一些效果影响伤害的结算。
实际战斗时为回合制战斗，每回合玩家可以使用主角或角色的技能、召唤石的技能，在使用想要使用的技能之后玩家点击攻击结束自己的操作；之后主角和其他角色依次进行一次普通攻击，最后怪物行动。
战斗公式设计推导
目标以及场景拆解
GBF数值设计的目标主要包括以下两点：

【保证数值主导的正反馈循环】因为战斗是游戏的主体，所以需要保证玩家在时间游玩中，对时间和资源投入的成长有足够的感知。为此，我们希望满足以下目标：

玩家经过养成，能够获得可感知的战斗数值提升
战斗数值的膨胀应该对于长线运营有较高的兼容度


【确保不同氪金量玩家体验】氪金玩家对于非氪金玩家不应该形成完全碾压

战斗场景：

完全没有PVP。PVE场景包括多人或单人。
玩家的养成主要通过多人PVE。
玩家的成果检验主要通过单人PVE。

数值框架搭建
基于目标以及场景，我们给出一个基于养成模块的伤害计算公式。
$$
\begin{aligned}
伤害 =&\ (预期伤害 \times 乘算调整区 + 加算调整区) \times 最终乘算调整区 + 最终加算调整区
\\
\text{其中，}
\\
预期伤害 =&\ 养成伤害 \times 怪物减伤率 \\
=&\ \Pi_{养成模块} 单模块调整值 \times 怪物减伤率\\
\end{aligned}
$$默认乘算调整区、加算调整区、最终乘算调整区、最终加算调整区不影响伤害结算。
由于玩家的战斗场景均为PVE，故可以通过手动投放怪物减伤率的方式控制玩家体验（默认10%减伤，特殊战斗特殊对待）。
观察游戏机制，细化计算公式
观察到：

游戏内有主角等级、武器盘、召唤石等养成模块。
武器盘内的武器可以提供各类效果增幅伤害，召唤石可以增幅武器盘内武器的效果，或直接增幅伤害。
战斗中有部分技能可以增幅伤害，或给怪物增加"破防XX%&ldquo;的debuff。
战斗中不同技能的倍率不同，且可以出现暴击
【特殊机制】战斗中有元素克制关系

根据观察到的结果，我们对养成伤害、怪物减伤调整区公式进行细化：
$$
\begin{aligned}
乘算调整区 =&\ \Pi_{乘算调整模块} 单模块调整值 \\
乘算调整模块 =&\ \set{伤害倍率、元素克制调整值、暴击调整值} \\
养成模块 =&\ \set{基础伤害、武器盘调整值、召唤石调整值} \\
怪物减伤调整区 =&\ 1 - f(怪物减伤值)
\end{aligned}
$$模块计算方式假设
我们假设以下情况：'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://mikezom.github.io/posts/"},{"@type":"ListItem","position":2,"name":"碧蓝幻想战斗数值的设计推导以及反拆","item":"https://mikezom.github.io/posts/2025-06-23-gbf/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"碧蓝幻想战斗数值的设计推导以及反拆","name":"碧蓝幻想战斗数值的设计推导以及反拆","description":"❗ This article was written in 2025.04 ❗\n前言 Granblue Fantasy（以下简称GBF）是一款网页端/移动端长线运营小队战斗RPG，除去其较高的美术水平外，核心乐趣点在于养成所带来的战斗数值提升。GBF运营至今能够通过其数值设计不断给玩家提供完成每日任务、参与活动的动力，说明其数值设计值得我们对此进行推导拆解分析。\nGBF战斗系统说明 GBF的战斗系统以小队为单位，每个小队由【主角】、3名【角色】、【武器盘】、【召唤石】构成。武器盘和召唤石决定了玩家的基础伤害。特殊的武器盘和召唤石会提供一些效果影响伤害的结算。\n实际战斗时为回合制战斗，每回合玩家可以使用主角或角色的技能、召唤石的技能，在使用想要使用的技能之后玩家点击攻击结束自己的操作；之后主角和其他角色依次进行一次普通攻击，最后怪物行动。\n战斗公式设计推导 目标以及场景拆解 GBF数值设计的目标主要包括以下两点：\n【保证数值主导的正反馈循环】因为战斗是游戏的主体，所以需要保证玩家在时间游玩中，对时间和资源投入的成长有足够的感知。为此，我们希望满足以下目标： 玩家经过养成，能够获得可感知的战斗数值提升 战斗数值的膨胀应该对于长线运营有较高的兼容度 【确保不同氪金量玩家体验】氪金玩家对于非氪金玩家不应该形成完全碾压 战斗场景：\n完全没有PVP。PVE场景包括多人或单人。 玩家的养成主要通过多人PVE。 玩家的成果检验主要通过单人PVE。 数值框架搭建 基于目标以及场景，我们给出一个基于养成模块的伤害计算公式。\n$$ \\begin{aligned} 伤害 =\u0026\\ (预期伤害 \\times 乘算调整区 + 加算调整区) \\times 最终乘算调整区 + 最终加算调整区 \\\\ \\text{其中，} \\\\ 预期伤害 =\u0026\\ 养成伤害 \\times 怪物减伤率 \\\\ =\u0026\\ \\Pi_{养成模块} 单模块调整值 \\times 怪物减伤率\\\\ \\end{aligned} $$默认乘算调整区、加算调整区、最终乘算调整区、最终加算调整区不影响伤害结算。\n由于玩家的战斗场景均为PVE，故可以通过手动投放怪物减伤率的方式控制玩家体验（默认10%减伤，特殊战斗特殊对待）。\n观察游戏机制，细化计算公式 观察到：\n游戏内有主角等级、武器盘、召唤石等养成模块。 武器盘内的武器可以提供各类效果增幅伤害，召唤石可以增幅武器盘内武器的效果，或直接增幅伤害。 战斗中有部分技能可以增幅伤害，或给怪物增加\u0026quot;破防XX%\u0026ldquo;的debuff。 战斗中不同技能的倍率不同，且可以出现暴击 【特殊机制】战斗中有元素克制关系 根据观察到的结果，我们对养成伤害、怪物减伤调整区公式进行细化：\n$$ \\begin{aligned} 乘算调整区 =\u0026\\ \\Pi_{乘算调整模块} 单模块调整值 \\\\ 乘算调整模块 =\u0026\\ \\set{伤害倍率、元素克制调整值、暴击调整值} \\\\ 养成模块 =\u0026\\ \\set{基础伤害、武器盘调整值、召唤石调整值} \\\\ 怪物减伤调整区 =\u0026\\ 1 - f(怪物减伤值) \\end{aligned} $$模块计算方式假设 我们假设以下情况：\n","keywords":[],"articleBody":"❗ This article was written in 2025.04 ❗\n前言 Granblue Fantasy（以下简称GBF）是一款网页端/移动端长线运营小队战斗RPG，除去其较高的美术水平外，核心乐趣点在于养成所带来的战斗数值提升。GBF运营至今能够通过其数值设计不断给玩家提供完成每日任务、参与活动的动力，说明其数值设计值得我们对此进行推导拆解分析。\nGBF战斗系统说明 GBF的战斗系统以小队为单位，每个小队由【主角】、3名【角色】、【武器盘】、【召唤石】构成。武器盘和召唤石决定了玩家的基础伤害。特殊的武器盘和召唤石会提供一些效果影响伤害的结算。\n实际战斗时为回合制战斗，每回合玩家可以使用主角或角色的技能、召唤石的技能，在使用想要使用的技能之后玩家点击攻击结束自己的操作；之后主角和其他角色依次进行一次普通攻击，最后怪物行动。\n战斗公式设计推导 目标以及场景拆解 GBF数值设计的目标主要包括以下两点：\n【保证数值主导的正反馈循环】因为战斗是游戏的主体，所以需要保证玩家在时间游玩中，对时间和资源投入的成长有足够的感知。为此，我们希望满足以下目标： 玩家经过养成，能够获得可感知的战斗数值提升 战斗数值的膨胀应该对于长线运营有较高的兼容度 【确保不同氪金量玩家体验】氪金玩家对于非氪金玩家不应该形成完全碾压 战斗场景：\n完全没有PVP。PVE场景包括多人或单人。 玩家的养成主要通过多人PVE。 玩家的成果检验主要通过单人PVE。 数值框架搭建 基于目标以及场景，我们给出一个基于养成模块的伤害计算公式。\n$$ \\begin{aligned} 伤害 =\u0026\\ (预期伤害 \\times 乘算调整区 + 加算调整区) \\times 最终乘算调整区 + 最终加算调整区 \\\\ \\text{其中，} \\\\ 预期伤害 =\u0026\\ 养成伤害 \\times 怪物减伤率 \\\\ =\u0026\\ \\Pi_{养成模块} 单模块调整值 \\times 怪物减伤率\\\\ \\end{aligned} $$默认乘算调整区、加算调整区、最终乘算调整区、最终加算调整区不影响伤害结算。\n由于玩家的战斗场景均为PVE，故可以通过手动投放怪物减伤率的方式控制玩家体验（默认10%减伤，特殊战斗特殊对待）。\n观察游戏机制，细化计算公式 观察到：\n游戏内有主角等级、武器盘、召唤石等养成模块。 武器盘内的武器可以提供各类效果增幅伤害，召唤石可以增幅武器盘内武器的效果，或直接增幅伤害。 战斗中有部分技能可以增幅伤害，或给怪物增加\"破防XX%“的debuff。 战斗中不同技能的倍率不同，且可以出现暴击 【特殊机制】战斗中有元素克制关系 根据观察到的结果，我们对养成伤害、怪物减伤调整区公式进行细化：\n$$ \\begin{aligned} 乘算调整区 =\u0026\\ \\Pi_{乘算调整模块} 单模块调整值 \\\\ 乘算调整模块 =\u0026\\ \\set{伤害倍率、元素克制调整值、暴击调整值} \\\\ 养成模块 =\u0026\\ \\set{基础伤害、武器盘调整值、召唤石调整值} \\\\ 怪物减伤调整区 =\u0026\\ 1 - f(怪物减伤值) \\end{aligned} $$模块计算方式假设 我们假设以下情况：\n伤害倍率和元素克制调整值若非特殊说明，在单局游戏内为固定值 暴击可能多次触发，单次触发的调整值为固定值，多次触发的调整值需要验证 基础伤害 = 角色攻击 + 武器盘总攻击 + 召唤石总攻击 （次要养成目标，互相加算降低单模块权重） 武器盘调整值 = \\(\\Sigma_{所有武器} 武器攻击调整值\\) 数据收集、验证、反拆战斗公式 数据收集 采用控制变量法，使用我自己的账号进行木桩战斗收集数据。\n前置分析 经过初始测试，我们发现\n最终的伤害是假设的公式的十分之一左右，推测为了方便玩家认知，在最后对伤害数值进行了调整。\n【调整1】最终乘算调整区 = 0.1\n即使控制了所有养成变量，最高伤害与最低伤害之间依然会有10%左右的波动。故我们猜测在最终伤害调整区存在一个随机数乘区，随机取0.95~1.05的伤害波动值。故进行以下调整\n【调整2】最终乘算调整区 = 0.1 * random.randrange(start=95, end=105) / 100\n分步分析 控制其他变量，调整角色攻击、武器盘总攻击、召唤石总攻击：曲线吻合，确认为加算\n控制其他变量，调整武器攻击调整值：曲线吻合，确认为加算\n重复攻击，验证暴击的实现：\n暴击单次触发提供一个50%的调整值 若暴击率高于100%，或有不同种类的暴击buff，则可能多次触发暴击。 【调整3】 \\(暴击调整值 = 1 + 暴击触发次数 \\times 0.5\\)\n通过控制debuff的数量，验证怪物减伤调整区的算法：\n施加25%破防后，玩家伤害增加33% 施加50%破防后，玩家伤害增加100% 施加75%破防后，玩家伤害依旧是增加100% 【调整4】 $$ \\begin{aligned} 怪物减伤调整区 =\u0026\\ \\frac{1}{怪物减伤值 } \\\\ 怪物减伤值 =\u0026\\ 1 - \\text{游戏内debuff } \\text{(怪物减伤值在0.5达到下限。)}\\\\ \\end{aligned} $$ 观察到随着养成模块调整值的线性增加，到达某些值后，最终伤害尽管依然为线性，但增加速度会变慢。\n提出假设：最终加算前，可能存在一个函数为伤害施加软上限。\n追加测试：逐渐增加伤害，观察预期伤害与实际伤害之间的关系。\n结论：最终伤害到达30w之后，会受到调整值的影响。且伤害上限可以被游戏内的效果影响。游戏内影响伤害上限的效果会作用于所有伤害上限的节点。若不考虑游戏内影响伤害上限的效果，软上限函数具体如下所示： 【调整5】\n$$ \\begin{aligned} 伤害 =\u0026\\ 软上限函数((预期伤害 \\times 乘算调整区 + 加算调整区) \\times 最终乘算调整区) \\\\ \u0026+ 最终加算调整区\\\\ 软上限函数(x) =\u0026\\ \\begin{cases} x \u0026\\text{if } 0 \u003c x \u003c 300000 \\\\ 300000 + 0.8 \\times (x - 300000) \u0026\\text{if } 300000 \u003c x \u003c 400000 \\\\ 380000 + 0.6 \\times (x - 400000) \u0026\\text{if } 400000 \u003c x \u003c 500000 \\\\ 440000 + 0.05 \\times (x - 500000) \u0026\\text{if } 500000 \u003c x \u003c 600000 \\\\ 445000 + 0.01 \\times (x - 600000) \u0026\\text{if } 600000 \u003c x \\\\ \\end{cases} \\end{aligned} $$该函数的目的是随着玩家的养成，逐渐提升玩家增加伤害的难度，从而达成以下目标：\n配合资源投放，降低新玩家入门门槛（新玩家可以花费更少时间到达近似的伤害。虽然看似伤害比例接近，但需要花费的资源却很多） 鼓励玩家投入更多资源（玩家若希望翻倍伤害，需要投入更多资源。若玩家在时间资源投入产生边际效应，则更有可能进行氪金。） 战斗公式总结 我们最后得到的战斗公式如下：\n$$ \\begin{aligned} 伤害 =\u0026\\ 软上限函数((预期伤害 \\times 乘算调整区 + 加算调整区) \\times 最终乘算调整区) \\\\ \u0026+ 最终加算调整区\\\\ 预期伤害 =\u0026\\ 养成伤害 \\times 怪物减伤调整区 \\\\ 养成伤害 =\u0026\\ (角色攻击 + 武器盘总攻击 + 召唤石总攻击) \\\\ \u0026\\times (\\Pi_{\\text{伤害调整Buff}} 武器盘调整值_k \\times 对应召唤石调整值_k)\\\\ 怪物减伤调整区 =\u0026\\ \\frac{1}{1 - \\text{游戏内debuff}}\\\\ 乘算调整区 =\u0026\\ 伤害倍率 \\times 元素克制调整值 \\times 暴击调整值 \\\\ 元素克制调整值 =\u0026\\ \\begin{cases} 1 \u0026\\text{if not triggered} \\\\ 1.5 \u0026\\text{if triggered} \\\\ \\end{cases} \\\\ 暴击调整值 =\u0026\\ 1.5^{\\text{暴击触发次数}} \\\\ 加算调整区 =\u0026\\ 最终加算调整区 = 0 \\\\ 最终乘算调整区 =\u0026\\ 0.1 * random.randrange(start=95, end=105) / 100 \\\\ 软上限函数(x) =\u0026\\ \\begin{cases} x \u0026\\text{if } 0 \u003c x \u003c 300000 \\\\ 300000 + 0.8 \\times (x - 300000) \u0026\\text{if } 300000 \u003c x \u003c 400000 \\\\ 380000 + 0.6 \\times (x - 400000) \u0026\\text{if } 400000 \u003c x \u003c 500000 \\\\ 440000 + 0.05 \\times (x - 500000) \u0026\\text{if } 500000 \u003c x \u003c 600000 \\\\ 445000 + 0.01 \\times (x - 600000) \u0026\\text{if } 600000 \u003c x \\\\ \\end{cases} \\end{aligned} $$运营过程中对于战斗公式的修改 由于GBF的运营时间较长，且游戏核心反馈循环与伤害绑定较深，这导致伤害养成的边际效应被放大了。为了解决这一问题，制作组尝试过不同的突破方式。我们将其中的一些列出并分析以作为参考案例。\n婚戒、婚戒区、婚戒区生效的buff 2018年，也就是GBF开服4年后，策划在活动商店投放了\"久远之戒”（简称为婚戒）。其效果为：\n使指定角色永久获得以下效果： - LB可强化次数 + 10 - 攻击力 + 10% - HP + 10% - 伤害上限 + 5% 经过玩家测试，其提供的攻击力buff与游戏中的其他buff都相互独立。其初始投放量为3个。以上特性意味着使用该道具是一个不可替代、稀有、且强力的数值资源。如果我们从策划的角度分析投放该道具的目的，我们可以从以下角度进行推导：\n游戏动机角度：玩家每个属性均需要至少1个队伍（3人），所以玩家无法实现所有属性队伍中的角色均有婚戒buff。但在玩家攀比中，婚戒提高了队伍强度的上限。这意味着若玩家希望在所有属性均拥有顶级强度的队伍，则需要额外投入资源（氪金）进行养成。婚戒的投放给予了这部分玩家继续投入资源的动力。 游戏生命周期角度：婚戒虽然在活动商店中，但也有一定的获取难度，玩家需要参与高难副本才能获得所需要的代币，且一次活动玩家无法获取商店库存所有的婚戒。而获取婚戒后对玩家队伍的战力提升明显。也就是说婚戒的投放增加了新的时间资源投入点，增加了玩家的活动参与意愿，为老玩家提供了进一步强化队伍的方式，增加了玩家对未来活动复刻的期待感。从而延长了游戏生命周期。 情感投资角度：“久远之戒\"形似婚戒，玩家自然而然会把该道具与婚戒联系起来，从而把\"给角色久远之戒\"这一行为联想到\"结婚\"或对该角色的高度依赖。“给婚戒\"这一行为增强了玩家对于该角色的情感链接。并且间接鼓励了社群间关于婚戒给谁这一问题的讨论。同时，作为抽卡游戏，运气较弱玩家相对难以获得满足感。而婚戒的存在给了玩家一种\"即使没抽到新卡，也可以把旧角色练满\"的替代型成就体验。强化了投入时间=提升强度的反馈模型，让非氪金养成具备了更明确的目标。 差异化战斗构建、多人PVE环境多样性：由于婚戒的稀缺性，玩家被迫在属性/队伍倾向中做出选择，使得养成系统的深度增加。由于不同的玩家会选择不同的构筑倾向，以及部分副本要求不同的玩家功能，玩家会以通过副本或玩家功能为单位，自然分化出小团体。（以明日方舟为例，部分自限团体的形成便是如此，而肉鸽的职业队便如同婚戒的强化了小团体属性）从而增加玩家之间的链接，进而增加用户黏性。 在婚戒的投放初期，这四个目的都得到了良好的达成。但随着游戏的持续发展，由于GBF的反馈结构单一性，玩家需要更多的数值激励维持正反馈循环，而原有的养成系统趋于饱和，普通的加成难以激发深度玩家的热情。此时，如果要增加一个buff提升玩家的数值，但又不希望造成buff体系失控或过多增加复杂度，就必须慎重考虑该buff在公式中生效的区间。从数值控制的角度，增加独立buff虽然会提供足够的反馈，但会加大数值控制的难度。更好的方式是利用一个现有的，且未饱和的buff区间。而婚戒提供的buff作为一个独立buff区，较少被利用到。所以策划将一部分与情感价值相关、与特定主题活动相关的buff划分到了婚戒区。这一做法既给玩家提供了进一步的正向反馈，也从一定程度上起到了角色平衡的作用。随着玩家对于buff生效区间的发掘，在该区间生效的buff与情感的联系会变得更加紧密。\n戒指、耳环、觉醒等额外养成 GBF在运营中不止一次地尝试增加玩家的养成维度。若以生效对象分类，可以分为对角色生效、对武器盘生效、对召唤石生效三个大类。其中，对角色生效的尝试包括但不限于持续的提升等级上限、戒指的升级（注：与上文的婚戒不同）与LB系统、2020年新增耳环提供随机buff、2021年新增觉醒系统提供自选buff并强化。这些养成维度的增加可以从以下几点进行分析：\n随机性：在上述4类养成中，戒指和耳环属于随机属性养成，既投入的资源不一定能转化成战力的提升；等级上限提升与觉醒系统属于固定属性养成，玩家投入资源一定能转化成战力的提升。根据这些尝试的时间我们不难看出，策划持续地为玩家提供时间资源稳定转化战力的新手段，而对于随机提升战力的尝试在2020年~2021年较为集中，之后又转变为了稳定转化。这可能是因为在基于数值的正反馈循环中，投入资源而由于随机性无法获得提升是难以接受的。玩家需要不断的反馈来维持游戏的动力。\n结合单维度深化与扩展养成维度：上述4类养成中，每一项养成维度都经历过对应的深化。例如多次的提升等级上限、多段戒指升级、觉醒系统的扩展。随着运营时间的增长，养成维度的增加难以避免。此时我们需要在投放新维度增加玩家理解成本与深化已有维度放大边际效应之中做出抉择。我们即希望玩家尝试新维度，又希望玩家在一个维度中投入一定量的资源。此时我们希望模块化每个养成维度，设定单个模块的养成投入时间量以及成果上限。若设计得当，模块化的养成维度使得每个养成系统的成长曲线相对独立，且策划的数值调整更为可控，也使得玩家预期更容易被管理。\n我们尝试简单推导一下GBF在每个模块上预期玩家投入的资源量与期望收益。根据玩家统计的戒指buff随机池数据，我们将截取其中一部分进行计算：\n前提/前置知识：\n戒指会给予角色随机至多4条buff，buff的数值也为随机且相互独立 4条buff的其中2条固定为攻击力加算和血量加算。另外两条为额外伤害buff和额外防御buff，这两种buff每种只会出现至多一条。 等级1的戒指最低提供2条buff，等级2提供3条，等级3与等级4均为最低提供4条。 任意等级的戒指最高均提供4条buff 额外伤害buff有7种，额外防御buff有6种 对于一个具体的角色而言，通常额外伤害buff中，2个收益较高，2个没有左右，剩下3个可以接受。 额外防御buff通常没有作用，我们在计算中会记为无效 低级的戒指可能会提供更少量，数值更低的buff 高级的戒指更稀有，但数值上限与低级戒指相同。 假设：\n随机出的buff数值分布为平均分布 基于一些玩家数据： 2021年通常构筑的原始攻击为 57642 2025年通常构筑的原始攻击为 71262 根据以上信息，我们可以画出如下图表：\n我们可以通过观察和计算得出以下结论（具体的计算过程详见附表）：\n攻击力对于最终伤害的提升随着数值的膨胀会被逐渐稀释 由于数值稀释的存在，在2021年使用最高等级的戒指（即等级3戒指）的期望提升与2025年使用最高等级的戒指（即等级4戒指）的期望提升基本相同。 以2021年的原始攻击为前提，玩家的最大提升约为21%；以2025年最原始攻击为前提，玩家的最大提升约为20% 重复使用低等级的戒指可以达成高等级的效果，但随着使用数量的增加需求的道具量会不断增加 对于2021年而言，使用3个等级1的戒指的效果约等于使用1个等级2的戒指；使用2个等级2的戒指约等于使用1个等级3的戒指。但使用10个等级2的戒指带来的提升难以超过使用4个等级3的戒指带来的提升。 其获取的难易度也对应经过调整。对于2021年而言，等级3的戒指需要在限时商店内限量兑换；而随着游戏的持续运营，玩家有了越来越多的等级3戒指兑换手段；等级4戒指推出后，在限时商店内限量兑换的戒指则成为了等级4戒指。 按2021年为标准，玩家获取当前版本最高等级的戒指的途径为： 3个/月（活动参与） 0.0625 * 0.072/副本（具体副本箱子掉落，6.25%概率出现该箱子，箱子内7.2%概率出最高等级戒指） 完成副本的时间视情况为1~10分钟，平均完成时间记为2分钟。 1个/月（1500日元对应的氪金保底货币兑换） 1个/月（多个低等级戒指换高等级戒指） 假设我们希望玩家每属性的核心队伍成员均有最大提升80%（即最终16%）以上的提升，玩家在单个角色上期望投入的资源量则为3个最高等级的戒指。即总共需要3*18=54个最高等级的戒指。 若玩家仅通过活动参与获取该资源，则需要18个月。 若玩家通过参与副本刷取，每刷取1个戒指需要耗费3.7小时的游戏时间。 可以看出，策划的对于该道具的预期来源是每月的活动参与，但也给硬核玩家提供了刷取的空间。为了避免硬核玩家进度过于靠前，刷取的掉率被设定为较低，同时，硬核玩家积极参与副本也会提高副本的通过率，增加新手玩家体验。 考虑到迭代时间，每2个月的古战场是玩家检验养成的节点。由于一个队伍有3名角色，养成预计需要9个最高等级戒指，所以第一梯队的玩家需要依靠刷取获得至少3个戒指，约11.1小时，平均到2个月也就是每天约11分钟。综合来说给玩家增加了每天11分钟的工作量。 总而言之，GBF在单个模块上的预期收益上限约为20%（由于上限函数的存在，玩家实际感知到的会小于20%），预期玩家投入资源主要为活动参与，预期玩家投入时间资源为每天11分钟。\nGBF的战斗时长设计推导 作为一款网页端/移动端游戏，GBF的玩家的游戏场景预期为移动端的碎片时间利用结合网页端的长时间低集中度游玩。所以我们可以假设GBF的战斗场景大致被分为了两个部分：\n短时间的副本参与，强调参与次数，目的为养成资源。 长时间的副本参与，强调一定程度的策略性与合作性，目的为验证养成。 通过观察GBF玩家的副本参与时长，可以发现其模式基本符合预期。玩家在养成类的副本参与时长大多小于1分钟，少部分超过1分钟，但几乎没有高于3分钟副本参与。这也鼓励了玩家利用碎片时间，增加玩家游戏场景。而玩家验证养成的副本大多需要多人参与，且消耗时间较长，按难度不同用时10分到30分不等。此类副本通常有时间限制。该限制既起到了养成进度标杆的作用，给玩家提供了养成的动力，也降低了玩家在单个副本消耗时间过长而感到乏味的可能。\n当然，此类设计也有其缺点。首先，该设计半强制要求玩家参与两种副本。对于长时间副本，其时间门槛和难度容易劝退一部分轻度玩家或者反感社交的玩家；对于短时间副本，玩家容易产生疲劳感，容易逐渐将游戏与机械性的任务负担联想。其次，短时间副本的参与依赖于玩家一定的养成进度。对于新玩家而言，若其难以达到高效率的基准线，就较难利用碎片时间参与游戏。\n在早期GBF的副本战斗时长设计中，虽然区分了养成与验证两类场景，但两者之间的过渡缺乏渐进性。玩家往往需要直接从操作较为简单的刷取养成资源跳跃至高难的多人合作。玩家对于角色技能和机制处理的理解往往有较大的提升空间。这一问题会增加玩家在养成中期流失的风险。随着游戏的发展，策划逐渐释出一些单人的中高难度副本。为玩家填补了进程的空白，提升整体养成的验证逻辑的流畅性。\n数据支持以及引用 Detailed Damage Formula from gbf.wiki Damage Formula from gbf-wiki.com Limit Bonus Character Over Mastery EXLB test Data ","wordCount":"498","inLanguage":"en","datePublished":"2025-06-23T18:31:09+08:00","dateModified":"2025-06-23T18:31:09+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mikezom.github.io/posts/2025-06-23-gbf/"},"publisher":{"@type":"Organization","name":"Wandering in Dreams","logo":{"@type":"ImageObject","url":"https://mikezom.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mikezom.github.io/ accesskey=h title="Wandering in Dreams (Alt + H)">Wandering in Dreams</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">碧蓝幻想战斗数值的设计推导以及反拆</h1><div class=post-meta><span title='2025-06-23 18:31:09 +0800 +0800'>June 23, 2025</span>&nbsp;·&nbsp;3 min</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=前言>前言</a></li><li><a href=#gbf%e6%88%98%e6%96%97%e7%b3%bb%e7%bb%9f%e8%af%b4%e6%98%8e aria-label=GBF战斗系统说明>GBF战斗系统说明</a></li><li><a href=#%e6%88%98%e6%96%97%e5%85%ac%e5%bc%8f%e8%ae%be%e8%ae%a1%e6%8e%a8%e5%af%bc aria-label=战斗公式设计推导>战斗公式设计推导</a><ul><li><a href=#%e7%9b%ae%e6%a0%87%e4%bb%a5%e5%8f%8a%e5%9c%ba%e6%99%af%e6%8b%86%e8%a7%a3 aria-label=目标以及场景拆解>目标以及场景拆解</a></li><li><a href=#%e6%95%b0%e5%80%bc%e6%a1%86%e6%9e%b6%e6%90%ad%e5%bb%ba aria-label=数值框架搭建>数值框架搭建</a></li><li><a href=#%e8%a7%82%e5%af%9f%e6%b8%b8%e6%88%8f%e6%9c%ba%e5%88%b6%e7%bb%86%e5%8c%96%e8%ae%a1%e7%ae%97%e5%85%ac%e5%bc%8f aria-label=观察游戏机制，细化计算公式>观察游戏机制，细化计算公式</a></li><li><a href=#%e6%a8%a1%e5%9d%97%e8%ae%a1%e7%ae%97%e6%96%b9%e5%bc%8f%e5%81%87%e8%ae%be aria-label=模块计算方式假设>模块计算方式假设</a></li></ul></li><li><a href=#%e6%95%b0%e6%8d%ae%e6%94%b6%e9%9b%86%e9%aa%8c%e8%af%81%e5%8f%8d%e6%8b%86%e6%88%98%e6%96%97%e5%85%ac%e5%bc%8f aria-label=数据收集、验证、反拆战斗公式>数据收集、验证、反拆战斗公式</a><ul><li><a href=#%e6%95%b0%e6%8d%ae%e6%94%b6%e9%9b%86 aria-label=数据收集>数据收集</a></li><li><a href=#%e5%89%8d%e7%bd%ae%e5%88%86%e6%9e%90 aria-label=前置分析>前置分析</a></li><li><a href=#%e5%88%86%e6%ad%a5%e5%88%86%e6%9e%90 aria-label=分步分析>分步分析</a></li><li><a href=#%e6%88%98%e6%96%97%e5%85%ac%e5%bc%8f%e6%80%bb%e7%bb%93 aria-label=战斗公式总结>战斗公式总结</a></li><li><a href=#%e8%bf%90%e8%90%a5%e8%bf%87%e7%a8%8b%e4%b8%ad%e5%af%b9%e4%ba%8e%e6%88%98%e6%96%97%e5%85%ac%e5%bc%8f%e7%9a%84%e4%bf%ae%e6%94%b9 aria-label=运营过程中对于战斗公式的修改>运营过程中对于战斗公式的修改</a><ul><li><a href=#%e5%a9%9a%e6%88%92%e5%a9%9a%e6%88%92%e5%8c%ba%e5%a9%9a%e6%88%92%e5%8c%ba%e7%94%9f%e6%95%88%e7%9a%84buff aria-label=婚戒、婚戒区、婚戒区生效的buff>婚戒、婚戒区、婚戒区生效的buff</a></li><li><a href=#%e6%88%92%e6%8c%87%e8%80%b3%e7%8e%af%e8%a7%89%e9%86%92%e7%ad%89%e9%a2%9d%e5%a4%96%e5%85%bb%e6%88%90 aria-label=戒指、耳环、觉醒等额外养成>戒指、耳环、觉醒等额外养成</a></li></ul></li></ul></li><li><a href=#gbf%e7%9a%84%e6%88%98%e6%96%97%e6%97%b6%e9%95%bf%e8%ae%be%e8%ae%a1%e6%8e%a8%e5%af%bc aria-label=GBF的战斗时长设计推导>GBF的战斗时长设计推导</a></li><li><a href=#%e6%95%b0%e6%8d%ae%e6%94%af%e6%8c%81%e4%bb%a5%e5%8f%8a%e5%bc%95%e7%94%a8 aria-label=数据支持以及引用>数据支持以及引用</a></li></ul></div></details></div><div class=post-content><p>❗ <strong>This article was written in 2025.04</strong> ❗</p><h2 id=前言>前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h2><p>Granblue Fantasy（以下简称GBF）是一款网页端/移动端长线运营小队战斗RPG，除去其较高的美术水平外，核心乐趣点在于养成所带来的战斗数值提升。GBF运营至今能够通过其数值设计不断给玩家提供完成每日任务、参与活动的动力，说明其数值设计值得我们对此进行推导拆解分析。</p><h2 id=gbf战斗系统说明>GBF战斗系统说明<a hidden class=anchor aria-hidden=true href=#gbf战斗系统说明>#</a></h2><p>GBF的战斗系统以小队为单位，每个小队由【主角】、3名【角色】、【武器盘】、【召唤石】构成。武器盘和召唤石决定了玩家的基础伤害。特殊的武器盘和召唤石会提供一些效果影响伤害的结算。</p><p>实际战斗时为回合制战斗，每回合玩家可以使用主角或角色的技能、召唤石的技能，在使用想要使用的技能之后玩家点击攻击结束自己的操作；之后主角和其他角色依次进行一次普通攻击，最后怪物行动。</p><h2 id=战斗公式设计推导>战斗公式设计推导<a hidden class=anchor aria-hidden=true href=#战斗公式设计推导>#</a></h2><h3 id=目标以及场景拆解>目标以及场景拆解<a hidden class=anchor aria-hidden=true href=#目标以及场景拆解>#</a></h3><p>GBF数值设计的目标主要包括以下两点：</p><ul><li>【<strong>保证数值主导的正反馈循环</strong>】因为战斗是游戏的主体，所以需要保证玩家在时间游玩中，对时间和资源投入的成长有足够的感知。为此，我们希望满足以下目标：<ul><li>玩家经过养成，能够获得可感知的战斗数值提升</li><li>战斗数值的膨胀应该对于长线运营有较高的兼容度</li></ul></li><li>【<strong>确保不同氪金量玩家体验</strong>】氪金玩家对于非氪金玩家不应该形成完全碾压</li></ul><p>战斗场景：</p><ul><li>完全没有PVP。PVE场景包括多人或单人。</li><li>玩家的养成主要通过多人PVE。</li><li>玩家的成果检验主要通过单人PVE。</li></ul><h3 id=数值框架搭建>数值框架搭建<a hidden class=anchor aria-hidden=true href=#数值框架搭建>#</a></h3><p>基于目标以及场景，我们给出一个基于养成模块的伤害计算公式。</p>$$
\begin{aligned}
伤害 =&\ (预期伤害 \times 乘算调整区 + 加算调整区) \times 最终乘算调整区 + 最终加算调整区
\\
\text{其中，}
\\
预期伤害 =&\ 养成伤害 \times 怪物减伤率 \\
=&\ \Pi_{养成模块} 单模块调整值 \times 怪物减伤率\\
\end{aligned}
$$<p>默认乘算调整区、加算调整区、最终乘算调整区、最终加算调整区不影响伤害结算。</p><p>由于玩家的战斗场景均为PVE，故可以通过手动投放怪物减伤率的方式控制玩家体验（默认10%减伤，特殊战斗特殊对待）。</p><h3 id=观察游戏机制细化计算公式>观察游戏机制，细化计算公式<a hidden class=anchor aria-hidden=true href=#观察游戏机制细化计算公式>#</a></h3><p>观察到：</p><ul><li>游戏内有主角等级、武器盘、召唤石等养成模块。</li><li>武器盘内的武器可以提供各类效果增幅伤害，召唤石可以增幅武器盘内武器的效果，或直接增幅伤害。</li><li>战斗中有部分技能可以增幅伤害，或给怪物增加"破防XX%&ldquo;的debuff。</li><li>战斗中不同技能的倍率不同，且可以出现暴击</li><li>【特殊机制】战斗中有元素克制关系</li></ul><p>根据观察到的结果，我们对养成伤害、怪物减伤调整区公式进行细化：</p>$$
\begin{aligned}
乘算调整区 =&\ \Pi_{乘算调整模块} 单模块调整值 \\
乘算调整模块 =&\ \set{伤害倍率、元素克制调整值、暴击调整值} \\
养成模块 =&\ \set{基础伤害、武器盘调整值、召唤石调整值} \\
怪物减伤调整区 =&\ 1 - f(怪物减伤值)
\end{aligned}
$$<h3 id=模块计算方式假设>模块计算方式假设<a hidden class=anchor aria-hidden=true href=#模块计算方式假设>#</a></h3><p>我们假设以下情况：</p><ol><li>伤害倍率和元素克制调整值若非特殊说明，在单局游戏内为固定值</li><li>暴击可能多次触发，单次触发的调整值为固定值，多次触发的调整值需要验证</li><li>基础伤害 = 角色攻击 + 武器盘总攻击 + 召唤石总攻击 （次要养成目标，互相加算降低单模块权重）</li><li>武器盘调整值 = \(\Sigma_{所有武器} 武器攻击调整值\)</li></ol><h2 id=数据收集验证反拆战斗公式>数据收集、验证、反拆战斗公式<a hidden class=anchor aria-hidden=true href=#数据收集验证反拆战斗公式>#</a></h2><h3 id=数据收集>数据收集<a hidden class=anchor aria-hidden=true href=#数据收集>#</a></h3><p>采用控制变量法，使用我自己的账号进行木桩战斗收集数据。</p><h3 id=前置分析>前置分析<a hidden class=anchor aria-hidden=true href=#前置分析>#</a></h3><p>经过初始测试，我们发现</p><ol><li><p>最终的伤害是假设的公式的十分之一左右，推测为了方便玩家认知，在最后对伤害数值进行了调整。</p><p>【<strong>调整1</strong>】最终乘算调整区 = 0.1</p></li><li><p>即使控制了所有养成变量，最高伤害与最低伤害之间依然会有10%左右的波动。故我们猜测在最终伤害调整区存在一个随机数乘区，随机取0.95~1.05的伤害波动值。故进行以下调整</p><p>【<strong>调整2</strong>】最终乘算调整区 = <code>0.1 * random.randrange(start=95, end=105) / 100</code></p></li></ol><h3 id=分步分析>分步分析<a hidden class=anchor aria-hidden=true href=#分步分析>#</a></h3><ol><li><p>控制其他变量，调整角色攻击、武器盘总攻击、召唤石总攻击：曲线吻合，确认为加算</p></li><li><p>控制其他变量，调整武器攻击调整值：曲线吻合，确认为加算</p></li><li><p>重复攻击，验证暴击的实现：</p><ul><li>暴击单次触发提供一个50%的调整值</li><li>若暴击率高于100%，或有不同种类的暴击buff，则可能多次触发暴击。</li></ul><p>【<strong>调整3</strong>】
\(暴击调整值 = 1 + 暴击触发次数 \times 0.5\)</p></li><li><p>通过控制debuff的数量，验证怪物减伤调整区的算法：</p><ul><li>施加25%破防后，玩家伤害增加33%</li><li>施加50%破防后，玩家伤害增加100%</li><li>施加75%破防后，玩家伤害依旧是增加100%</li></ul><p>【<strong>调整4</strong>】</p>$$
\begin{aligned}
怪物减伤调整区 =&\ \frac{1}{怪物减伤值 } \\
怪物减伤值 =&\ 1 - \text{游戏内debuff } \text{(怪物减伤值在0.5达到下限。)}\\
\end{aligned}
$$</li><li><p>观察到随着养成模块调整值的线性增加，到达某些值后，最终伤害尽管依然为线性，但增加速度会变慢。</p><ul><li><p>提出假设：最终加算前，可能存在一个函数为伤害施加软上限。</p></li><li><p>追加测试：逐渐增加伤害，观察预期伤害与实际伤害之间的关系。</p><p><img alt=damage_cap loading=lazy src=/posts/2025-06-23-gbf/images/damage_cap.png></p><ul><li>结论：最终伤害到达30w之后，会受到调整值的影响。且伤害上限可以被游戏内的效果影响。游戏内影响伤害上限的效果会作用于所有伤害上限的节点。若不考虑游戏内影响伤害上限的效果，软上限函数具体如下所示：</li></ul></li></ul><p>【<strong>调整5</strong>】</p>$$
\begin{aligned}
伤害 =&\ 软上限函数((预期伤害 \times 乘算调整区 + 加算调整区) \times 最终乘算调整区) \\
&+ 最终加算调整区\\
软上限函数(x) =&\
\begin{cases}
x &\text{if } 0 < x < 300000 \\
300000 + 0.8 \times (x - 300000) &\text{if } 300000 < x < 400000 \\
380000 + 0.6 \times (x - 400000) &\text{if } 400000 < x < 500000 \\
440000 + 0.05 \times (x - 500000) &\text{if } 500000 < x < 600000 \\
445000 + 0.01 \times (x - 600000) &\text{if } 600000 < x \\
\end{cases}
\end{aligned}
$$<p>该函数的目的是随着玩家的养成，逐渐提升玩家增加伤害的难度，从而达成以下目标：</p><ol><li>配合资源投放，降低新玩家入门门槛（新玩家可以花费更少时间到达近似的伤害。虽然看似伤害比例接近，但需要花费的资源却很多）</li><li>鼓励玩家投入更多资源（玩家若希望翻倍伤害，需要投入更多资源。若玩家在时间资源投入产生边际效应，则更有可能进行氪金。）</li></ol></li></ol><h3 id=战斗公式总结>战斗公式总结<a hidden class=anchor aria-hidden=true href=#战斗公式总结>#</a></h3><p>我们最后得到的战斗公式如下：</p>$$
\begin{aligned}
伤害 =&\ 软上限函数((预期伤害 \times 乘算调整区 + 加算调整区) \times 最终乘算调整区) \\
&+ 最终加算调整区\\
预期伤害 =&\ 养成伤害 \times 怪物减伤调整区 \\
养成伤害 =&\ (角色攻击 + 武器盘总攻击 + 召唤石总攻击) \\
&\times (\Pi_{\text{伤害调整Buff}} 武器盘调整值_k \times 对应召唤石调整值_k)\\
怪物减伤调整区 =&\ \frac{1}{1 - \text{游戏内debuff}}\\
乘算调整区 =&\ 伤害倍率 \times 元素克制调整值 \times 暴击调整值 \\
元素克制调整值 =&\
\begin{cases}
1 &\text{if not triggered} \\
1.5 &\text{if triggered} \\
\end{cases}
\\
暴击调整值 =&\ 1.5^{\text{暴击触发次数}}
\\
加算调整区 =&\ 最终加算调整区 = 0 \\
最终乘算调整区 =&\ 0.1 * random.randrange(start=95, end=105) / 100 \\
软上限函数(x) =&\
\begin{cases}
x &\text{if } 0 < x < 300000 \\
300000 + 0.8 \times (x - 300000) &\text{if } 300000 < x < 400000 \\
380000 + 0.6 \times (x - 400000) &\text{if } 400000 < x < 500000 \\
440000 + 0.05 \times (x - 500000) &\text{if } 500000 < x < 600000 \\
445000 + 0.01 \times (x - 600000) &\text{if } 600000 < x \\
\end{cases}
\end{aligned}
$$<h3 id=运营过程中对于战斗公式的修改>运营过程中对于战斗公式的修改<a hidden class=anchor aria-hidden=true href=#运营过程中对于战斗公式的修改>#</a></h3><p>由于GBF的运营时间较长，且游戏核心反馈循环与伤害绑定较深，这导致伤害养成的边际效应被放大了。为了解决这一问题，制作组尝试过不同的突破方式。我们将其中的一些列出并分析以作为参考案例。</p><h4 id=婚戒婚戒区婚戒区生效的buff>婚戒、婚戒区、婚戒区生效的buff<a hidden class=anchor aria-hidden=true href=#婚戒婚戒区婚戒区生效的buff>#</a></h4><p>2018年，也就是GBF开服4年后，策划在活动商店投放了"久远之戒&rdquo;（简称为婚戒）。其效果为：</p><pre><code>使指定角色永久获得以下效果：
- LB可强化次数 + 10
- 攻击力 + 10%
- HP + 10%
- 伤害上限 + 5%
</code></pre><p>经过玩家测试，其提供的攻击力buff与游戏中的其他buff都相互独立。其初始投放量为3个。以上特性意味着使用该道具是一个不可替代、稀有、且强力的数值资源。如果我们从策划的角度分析投放该道具的目的，我们可以从以下角度进行推导：</p><ol><li>游戏动机角度：玩家每个属性均需要至少1个队伍（3人），所以玩家无法实现所有属性队伍中的角色均有婚戒buff。但在玩家攀比中，婚戒提高了队伍强度的上限。这意味着若玩家希望在所有属性均拥有顶级强度的队伍，则需要额外投入资源（氪金）进行养成。婚戒的投放给予了这部分玩家继续投入资源的动力。</li><li>游戏生命周期角度：婚戒虽然在活动商店中，但也有一定的获取难度，玩家需要参与高难副本才能获得所需要的代币，且一次活动玩家无法获取商店库存所有的婚戒。而获取婚戒后对玩家队伍的战力提升明显。也就是说婚戒的投放增加了新的时间资源投入点，增加了玩家的活动参与意愿，为老玩家提供了进一步强化队伍的方式，增加了玩家对未来活动复刻的期待感。从而延长了游戏生命周期。</li><li>情感投资角度：&ldquo;久远之戒"形似婚戒，玩家自然而然会把该道具与婚戒联系起来，从而把"给角色久远之戒"这一行为联想到"结婚"或对该角色的高度依赖。&ldquo;给婚戒"这一行为增强了玩家对于该角色的情感链接。并且间接鼓励了社群间关于婚戒给谁这一问题的讨论。同时，作为抽卡游戏，运气较弱玩家相对难以获得满足感。而婚戒的存在给了玩家一种"即使没抽到新卡，也可以把旧角色练满"的替代型成就体验。强化了投入时间=提升强度的反馈模型，让非氪金养成具备了更明确的目标。</li><li>差异化战斗构建、多人PVE环境多样性：由于婚戒的稀缺性，玩家被迫在属性/队伍倾向中做出选择，使得养成系统的深度增加。由于不同的玩家会选择不同的构筑倾向，以及部分副本要求不同的玩家功能，玩家会以通过副本或玩家功能为单位，自然分化出小团体。（以明日方舟为例，部分自限团体的形成便是如此，而肉鸽的职业队便如同婚戒的强化了小团体属性）从而增加玩家之间的链接，进而增加用户黏性。</li></ol><p>在婚戒的投放初期，这四个目的都得到了良好的达成。但随着游戏的持续发展，由于GBF的反馈结构单一性，玩家需要更多的数值激励维持正反馈循环，而原有的养成系统趋于饱和，普通的加成难以激发深度玩家的热情。此时，如果要增加一个buff提升玩家的数值，但又不希望造成buff体系失控或过多增加复杂度，就必须慎重考虑该buff在公式中生效的区间。从数值控制的角度，增加独立buff虽然会提供足够的反馈，但会加大数值控制的难度。更好的方式是利用一个现有的，且未饱和的buff区间。而婚戒提供的buff作为一个独立buff区，较少被利用到。所以策划将一部分与情感价值相关、与特定主题活动相关的buff划分到了婚戒区。这一做法既给玩家提供了进一步的正向反馈，也从一定程度上起到了角色平衡的作用。随着玩家对于buff生效区间的发掘，在该区间生效的buff与情感的联系会变得更加紧密。</p><h4 id=戒指耳环觉醒等额外养成>戒指、耳环、觉醒等额外养成<a hidden class=anchor aria-hidden=true href=#戒指耳环觉醒等额外养成>#</a></h4><p>GBF在运营中不止一次地尝试增加玩家的养成维度。若以生效对象分类，可以分为对角色生效、对武器盘生效、对召唤石生效三个大类。其中，对角色生效的尝试包括但不限于持续的提升等级上限、戒指的升级（注：与上文的婚戒不同）与LB系统、2020年新增耳环提供随机buff、2021年新增觉醒系统提供自选buff并强化。这些养成维度的增加可以从以下几点进行分析：</p><ol><li><p>随机性：在上述4类养成中，戒指和耳环属于随机属性养成，既投入的资源不一定能转化成战力的提升；等级上限提升与觉醒系统属于固定属性养成，玩家投入资源一定能转化成战力的提升。根据这些尝试的时间我们不难看出，策划持续地为玩家提供时间资源稳定转化战力的新手段，而对于随机提升战力的尝试在2020年~2021年较为集中，之后又转变为了稳定转化。这可能是因为在基于数值的正反馈循环中，投入资源而由于随机性无法获得提升是难以接受的。玩家需要不断的反馈来维持游戏的动力。</p></li><li><p>结合单维度深化与扩展养成维度：上述4类养成中，每一项养成维度都经历过对应的深化。例如多次的提升等级上限、多段戒指升级、觉醒系统的扩展。随着运营时间的增长，养成维度的增加难以避免。此时我们需要在投放新维度增加玩家理解成本与深化已有维度放大边际效应之中做出抉择。我们即希望玩家尝试新维度，又希望玩家在一个维度中投入一定量的资源。此时我们希望模块化每个养成维度，设定单个模块的养成投入时间量以及成果上限。若设计得当，模块化的养成维度使得每个养成系统的成长曲线相对独立，且策划的数值调整更为可控，也使得玩家预期更容易被管理。</p><p>我们尝试简单推导一下GBF在每个模块上预期玩家投入的资源量与期望收益。根据玩家统计的<a href="EXLB%E9%AA%8C%E8%AF%81%E7%94%A8https://docs.google.com/spreadsheets/d/111tOVMx6r59q1Rct07_kThx2QoI72ZF6gN6O1zHyzBE/edit?gid=0#gid=0">戒指buff随机池数据</a>，我们将截取其中一部分进行计算：</p><p>前提/前置知识：</p><ul><li>戒指会给予角色随机至多4条buff，buff的数值也为随机且相互独立<ul><li>4条buff的其中2条固定为攻击力加算和血量加算。另外两条为额外伤害buff和额外防御buff，这两种buff每种只会出现至多一条。<ul><li>等级1的戒指最低提供2条buff，等级2提供3条，等级3与等级4均为最低提供4条。</li><li>任意等级的戒指最高均提供4条buff</li></ul></li><li>额外伤害buff有7种，额外防御buff有6种<ul><li>对于一个具体的角色而言，通常额外伤害buff中，2个收益较高，2个没有左右，剩下3个可以接受。</li><li>额外防御buff通常没有作用，我们在计算中会记为无效</li></ul></li></ul></li><li>低级的戒指可能会提供更少量，数值更低的buff</li><li>高级的戒指更稀有，但数值上限与低级戒指相同。</li></ul><p>假设：</p><ul><li>随机出的buff数值分布为平均分布</li><li>基于一些玩家数据：<ul><li>2021年通常构筑的原始攻击为 57642</li><li>2025年通常构筑的原始攻击为 71262</li></ul></li></ul><p>根据以上信息，我们可以画出如下图表：</p><p><img alt=rings loading=lazy src=/posts/2025-06-23-gbf/images/rings.png></p><p>我们可以通过观察和计算得出以下结论（具体的计算过程详见附表）：</p><ul><li>攻击力对于最终伤害的提升随着数值的膨胀会被逐渐稀释<ul><li>由于数值稀释的存在，在2021年使用最高等级的戒指（即等级3戒指）的期望提升与2025年使用最高等级的戒指（即等级4戒指）的期望提升基本相同。</li><li>以2021年的原始攻击为前提，玩家的最大提升约为21%；以2025年最原始攻击为前提，玩家的最大提升约为20%</li></ul></li><li>重复使用低等级的戒指可以达成高等级的效果，但随着使用数量的增加需求的道具量会不断增加<ul><li>对于2021年而言，使用3个等级1的戒指的效果约等于使用1个等级2的戒指；使用2个等级2的戒指约等于使用1个等级3的戒指。但使用10个等级2的戒指带来的提升难以超过使用4个等级3的戒指带来的提升。</li><li>其获取的难易度也对应经过调整。对于2021年而言，等级3的戒指需要在限时商店内限量兑换；而随着游戏的持续运营，玩家有了越来越多的等级3戒指兑换手段；等级4戒指推出后，在限时商店内限量兑换的戒指则成为了等级4戒指。</li></ul></li><li>按2021年为标准，玩家获取当前版本最高等级的戒指的途径为：<ul><li>3个/月（活动参与）</li><li>0.0625 * 0.072/副本（具体副本箱子掉落，6.25%概率出现该箱子，箱子内7.2%概率出最高等级戒指）<ul><li>完成副本的时间视情况为1~10分钟，平均完成时间记为2分钟。</li></ul></li><li>1个/月（1500日元对应的氪金保底货币兑换）</li><li>1个/月（多个低等级戒指换高等级戒指）</li></ul></li><li>假设我们希望玩家每属性的核心队伍成员均有最大提升80%（即最终16%）以上的提升，玩家在单个角色上期望投入的资源量则为3个最高等级的戒指。即总共需要3*18=54个最高等级的戒指。<ul><li>若玩家仅通过活动参与获取该资源，则需要18个月。</li><li>若玩家通过参与副本刷取，每刷取1个戒指需要耗费3.7小时的游戏时间。</li><li>可以看出，策划的对于该道具的预期来源是每月的活动参与，但也给硬核玩家提供了刷取的空间。为了避免硬核玩家进度过于靠前，刷取的掉率被设定为较低，同时，硬核玩家积极参与副本也会提高副本的通过率，增加新手玩家体验。</li><li>考虑到迭代时间，每2个月的古战场是玩家检验养成的节点。由于一个队伍有3名角色，养成预计需要9个最高等级戒指，所以第一梯队的玩家需要依靠刷取获得至少3个戒指，约11.1小时，平均到2个月也就是每天约11分钟。综合来说给玩家增加了每天11分钟的工作量。</li></ul></li></ul></li></ol><p>总而言之，GBF在单个模块上的预期收益上限约为20%（由于上限函数的存在，玩家实际感知到的会小于20%），预期玩家投入资源主要为活动参与，预期玩家投入时间资源为每天11分钟。</p><h2 id=gbf的战斗时长设计推导>GBF的战斗时长设计推导<a hidden class=anchor aria-hidden=true href=#gbf的战斗时长设计推导>#</a></h2><p>作为一款网页端/移动端游戏，GBF的玩家的游戏场景预期为移动端的碎片时间利用结合网页端的长时间低集中度游玩。所以我们可以假设GBF的战斗场景大致被分为了两个部分：</p><ol><li>短时间的副本参与，强调参与次数，目的为养成资源。</li><li>长时间的副本参与，强调一定程度的策略性与合作性，目的为验证养成。</li></ol><p>通过观察GBF玩家的副本参与时长，可以发现其模式基本符合预期。玩家在养成类的副本参与时长大多小于1分钟，少部分超过1分钟，但几乎没有高于3分钟副本参与。这也鼓励了玩家利用碎片时间，增加玩家游戏场景。而玩家验证养成的副本大多需要多人参与，且消耗时间较长，按难度不同用时10分到30分不等。此类副本通常有时间限制。该限制既起到了养成进度标杆的作用，给玩家提供了养成的动力，也降低了玩家在单个副本消耗时间过长而感到乏味的可能。</p><p>当然，此类设计也有其缺点。首先，该设计半强制要求玩家参与两种副本。对于长时间副本，其时间门槛和难度容易劝退一部分轻度玩家或者反感社交的玩家；对于短时间副本，玩家容易产生疲劳感，容易逐渐将游戏与机械性的任务负担联想。其次，短时间副本的参与依赖于玩家一定的养成进度。对于新玩家而言，若其难以达到高效率的基准线，就较难利用碎片时间参与游戏。</p><p>在早期GBF的副本战斗时长设计中，虽然区分了养成与验证两类场景，但两者之间的过渡缺乏渐进性。玩家往往需要直接从操作较为简单的刷取养成资源跳跃至高难的多人合作。玩家对于角色技能和机制处理的理解往往有较大的提升空间。这一问题会增加玩家在养成中期流失的风险。随着游戏的发展，策划逐渐释出一些单人的中高难度副本。为玩家填补了进程的空白，提升整体养成的验证逻辑的流畅性。</p><h2 id=数据支持以及引用>数据支持以及引用<a hidden class=anchor aria-hidden=true href=#数据支持以及引用>#</a></h2><ul><li><a href=https://gbf.wiki/Damage_Formula/Detailed_Damage_Formula>Detailed Damage Formula from gbf.wiki</a></li><li><a href=https://gbf-wiki.com/index.php?%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E4%BB%95%E6%A7%98%E9%96%A2%E9%80%A3#m42edcf4>Damage Formula from gbf-wiki.com</a></li><li><a href=https://gbfssrlistbyod.memo.wiki/d/Limit%20bonus>Limit Bonus</a></li><li><a href=https://gbf.wiki/Character_Extended_Mastery_Perks#Over_Mastery>Character Over Mastery</a></li><li><a href="EXLB%E9%AA%8C%E8%AF%81%E7%94%A8https://docs.google.com/spreadsheets/d/111tOVMx6r59q1Rct07_kThx2QoI72ZF6gN6O1zHyzBE/edit?gid=0#gid=0">EXLB test Data</a></li></ul></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://mikezom.github.io/>Wandering in Dreams</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>